<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Hexa Movies</title>
<style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body { font-family: 'Arial', sans-serif; background: #0e0e0e; color: #fff; }
    header { background: #1a1a1a; padding: 20px; text-align: center; position: sticky; top: 0; z-index: 10; box-shadow: 0 2px 10px rgba(0,0,0,0.5); }
    header h1 { font-size: 2.5em; color: #ff2a68; margin-bottom: 10px; }
    header input { padding: 12px; width: 320px; max-width: 80%; border-radius: 25px; border: none; outline: none; font-size: 1em; }
    #movies-container { display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 20px; padding: 25px; }
    
    /* Movie Box */
    .movie-card { position: relative; overflow: hidden; border-radius: 15px; cursor: pointer; transition: transform 0.3s; }
    .movie-card img { width: 100%; height: 300px; object-fit: cover; display: block; border-radius: 15px; }
    .movie-card:hover { transform: scale(1.05); }
    
    .movie-info { position: absolute; bottom: 0; left: 0; width: 100%; padding: 15px; background: linear-gradient(0deg, rgba(0,0,0,0.9) 30%, rgba(0,0,0,0) 100%); color: #fff; transition: transform 0.3s; transform: translateY(100%); }
    .movie-card:hover .movie-info { transform: translateY(0); }
    .movie-info h3 { font-size: 1.2em; margin-bottom: 5px; color: #ff2a68; }
    .movie-info p { font-size: 0.9em; margin-bottom: 3px; }

    /* Modal */
    #modal { display: none; position: fixed; top:0; left:0; width: 100%; height: 100%; background: rgba(0,0,0,0.95); justify-content: center; align-items: center; z-index: 20; padding: 20px; overflow-y: auto; }
    #modal-content { background: #1c1c1c; border-radius: 15px; width: 90%; max-width: 900px; padding: 25px; position: relative; color: #fff; box-shadow: 0 0 50px rgba(255,42,104,0.5); }
    #modal-content img { width: 100%; max-height: 450px; object-fit: cover; border-radius: 15px; margin-bottom: 20px; }
    #modal-content h2 { margin-bottom: 15px; color: #ff2a68; font-size: 2em; }
    #modal-content p { line-height: 1.5; margin-bottom: 10px; }
    #close { position: absolute; top: 15px; right: 20px; font-size: 2em; cursor: pointer; color: #ff2a68; }

    @media(max-width: 600px) {
        .movie-card img { height: 250px; }
        header h1 { font-size: 2em; }
        header input { width: 90%; }
    }
</style>
</head>
<body>

<header>
    <h1>Hexa Movies</h1>
    <input type="text" id="search" placeholder="Search movies...">
</header>

<main id="movies-container"></main>

<!-- Modal -->
<div id="modal">
    <div id="modal-content">
        <span id="close">&times;</span>
        <img id="modal-img" src="" alt="">
        <h2 id="modal-title"></h2>
        <p id="modal-overview"></p>
        <p><strong>Rating:</strong> <span id="modal-rating"></span>/10</p>
        <p><strong>Release Date:</strong> <span id="modal-date"></span></p>
        <p><strong>Language:</strong> <span id="modal-lang"></span></p>
    </div>
</div>

<script>
const API_KEY = 'e80fea21e274f53a52d0172308a9fa03';
const BASE_URL = 'https://api.themoviedb.org/3';
const IMG_URL = 'https://image.tmdb.org/t/p/w500';

const moviesContainer = document.getElementById('movies-container');
const searchInput = document.getElementById('search');

// Modal elements
const modal = document.getElementById('modal');
const modalImg = document.getElementById('modal-img');
const modalTitle = document.getElementById('modal-title');
const modalOverview = document.getElementById('modal-overview');
const modalRating = document.getElementById('modal-rating');
const modalDate = document.getElementById('modal-date');
const modalLang = document.getElementById('modal-lang');
const closeBtn = document.getElementById('close');

// Fetch movies
async function getMovies(url) {
    const res = await fetch(url);
    const data = await res.json();
    showMovies(data.results);
}

// Display movies as sleek movie boxes
function showMovies(movies) {
    moviesContainer.innerHTML = '';
    movies.forEach(movie => {
        const { title, poster_path, overview, vote_average, release_date, original_language } = movie;
        const movieEl = document.createElement('div');
        movieEl.classList.add('movie-card');
        movieEl.innerHTML = `
            <img src="${poster_path ? IMG_URL + poster_path : 'https://via.placeholder.com/500x750'}" alt="${title}">
            <div class="movie-info">
                <h3>${title}</h3>
                <p>‚≠ê ${vote_average}</p>
                <p>${release_date}</p>
            </div>
        `;
        movieEl.addEventListener('click', () => {
            modal.style.display = 'flex';
            modalImg.src = poster_path ? IMG_URL + poster_path : 'https://via.placeholder.com/500x750';
            modalTitle.textContent = title;
            modalOverview.textContent = overview || 'No overview available.';
            modalRating.textContent = vote_average;
            modalDate.textContent = release_date;
            modalLang.textContent = original_language.toUpperCase();
        });
        moviesContainer.appendChild(movieEl);
    });
}

// Load popular movies
getMovies(`${BASE_URL}/movie/popular?api_key=${API_KEY}&language=en-US&page=1`);

// Search functionality
searchInput.addEventListener('keyup', (e) => {
    if(e.key === 'Enter') {
        const searchTerm = searchInput.value.trim();
        if(searchTerm) {
            getMovies(`${BASE_URL}/search/movie?api_key=${API_KEY}&query=${searchTerm}`);
        } else {
            getMovies(`${BASE_URL}/movie/popular?api_key=${API_KEY}&language=en-US&page=1`);
        }
    }
});

// Close modal
closeBtn.addEventListener('click', () => modal.style.display = 'none');
window.addEventListener('click', (e) => {
    if(e.target === modal) modal.style.display = 'none';
});
</script>

</body>
</html>